<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>jQuery 发送 AJAX请求</title>
		<link
			rel="stylesheet"
			href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css"
			integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
			crossorigin="anonymous"
		/>
		<script src="https://cdn.bootcdn.net/ajax/libs/axios/0.21.0/axios.js"></script>
	</head>
	<body>
		<div class="container">
			<h2 class="page-header">Axios发送AJAX请求</h2>
			<button class="btn btn-primary">GET</button>
			<button class="btn btn-danger">POST</button>
			<button class="btn btn-info">通用型方法axios</button>
		</div>

		<script>
			const btns = document.getElementsByTagName("button");
			axios.defaults.baseURL = "http://127.0.0.1:8000";
			btns[0].onclick = function () {
				//GET请求
				axios
					.get("/axios-server", {
						//url头参数
						params: {
							id: 100,
							vip: 7,
						},
						//请求头信息
						headers: {
							name: "frank",
							age: 25,
						},
					})
					.then((value) => {
						console.log(value);
					});
			};

			btns[1].onclick = function () {
				//POST请求
				axios
					.post(
						"/axios-server",
						//请求体
						{
							username: "admin",
							password: "admin",
						},
						{
							//url头参数
							params: {
								id: 200,
								vip: 9,
							},
							//请求头信息
							headers: {
								name: "frank",
								age: 25,
							},
						}
					)
					.then((value) => {
						console.log(value);
					});
			};
			btns[2].onclick = function () {
				//通用型请求
				axios({
					//请求方法
					method: "POST",
					//url
					url: "/axios-server",
					//url参数
					params: {
						vip: 10,
						level: 30,
					},
					//header信息
					headers: {
						a: 100,
						b: 200,
					},
					//请求体参数
					data: {
						username: "admin",
						password: "admin",
					},
				}).then((response) => {
					console.log(response);
					console.log(response.status);
					console.log(response.statusText);
				});
			};
		</script>
	</body>
</html>
